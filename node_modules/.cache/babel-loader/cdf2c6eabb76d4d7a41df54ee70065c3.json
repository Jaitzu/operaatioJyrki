{"ast":null,"code":"import _initializerDefineProperty from \"/home/janne/repot/OperaatioJyrki/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/initializerDefineProperty\";\nimport _applyDecoratedDescriptor from \"/home/janne/repot/OperaatioJyrki/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/applyDecoratedDescriptor\";\nimport _initializerWarningHelper from \"/home/janne/repot/OperaatioJyrki/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/initializerWarningHelper\";\n\nvar _class, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6, _descriptor7, _descriptor8, _descriptor9, _descriptor10, _descriptor11, _descriptor12, _descriptor13, _descriptor14, _descriptor15, _descriptor16, _descriptor17, _descriptor18, _descriptor19, _descriptor20, _descriptor21, _descriptor22, _descriptor23, _descriptor24, _descriptor25, _descriptor26, _descriptor27, _descriptor28, _descriptor29, _descriptor30, _descriptor31, _temp;\n\nimport { action, observable } from 'mobx';\nimport { fetchTokenFromApi, postToApi } from './ApiServices';\nimport { getCookie } from './CookieServices';\nimport ClientStore from './ClientStore';\nimport { toJS } from \"mobx\";\nlet OperationStore = (_class = (_temp = class OperationStore {\n  constructor(rootStore) {\n    _initializerDefineProperty(this, \"status\", _descriptor, this);\n\n    _initializerDefineProperty(this, \"massOperation\", _descriptor2, this);\n\n    _initializerDefineProperty(this, \"massOperationType\", _descriptor3, this);\n\n    _initializerDefineProperty(this, \"agreementID\", _descriptor4, this);\n\n    _initializerDefineProperty(this, \"groupID\", _descriptor5, this);\n\n    _initializerDefineProperty(this, \"startDate\", _descriptor6, this);\n\n    _initializerDefineProperty(this, \"endDate\", _descriptor7, this);\n\n    _initializerDefineProperty(this, \"printExecDate\", _descriptor8, this);\n\n    _initializerDefineProperty(this, \"dataTargetDate\", _descriptor9, this);\n\n    _initializerDefineProperty(this, \"announcement\", _descriptor10, this);\n\n    _initializerDefineProperty(this, \"reprint\", _descriptor11, this);\n\n    _initializerDefineProperty(this, \"printOutType\", _descriptor12, this);\n\n    _initializerDefineProperty(this, \"forcedCalculation\", _descriptor13, this);\n\n    _initializerDefineProperty(this, \"confirmation\", _descriptor14, this);\n\n    _initializerDefineProperty(this, \"confirmationModalIsOpen\", _descriptor15, this);\n\n    _initializerDefineProperty(this, \"confirmationMessage\", _descriptor16, this);\n\n    this.rootStore = void 0;\n\n    _initializerDefineProperty(this, \"checkSessionStore\", _descriptor17, this);\n\n    _initializerDefineProperty(this, \"handleConfirmation\", _descriptor18, this);\n\n    _initializerDefineProperty(this, \"handleConfirmationModal\", _descriptor19, this);\n\n    _initializerDefineProperty(this, \"setStatus\", _descriptor20, this);\n\n    _initializerDefineProperty(this, \"setDefineAction\", _descriptor21, this);\n\n    _initializerDefineProperty(this, \"setMassOperation\", _descriptor22, this);\n\n    _initializerDefineProperty(this, \"setTargetPolicies\", _descriptor23, this);\n\n    _initializerDefineProperty(this, \"cancel\", _descriptor24, this);\n\n    _initializerDefineProperty(this, \"newOrder\", _descriptor25, this);\n\n    _initializerDefineProperty(this, \"setDefineAnnouncement\", _descriptor26, this);\n\n    _initializerDefineProperty(this, \"setDefineReprint\", _descriptor27, this);\n\n    _initializerDefineProperty(this, \"setForcedCalculation\", _descriptor28, this);\n\n    _initializerDefineProperty(this, \"newPrintOutOrder\", _descriptor29, this);\n\n    _initializerDefineProperty(this, \"newReprintOrder\", _descriptor30, this);\n\n    _initializerDefineProperty(this, \"newForcedCalculation\", _descriptor31, this);\n\n    this.rootStore = rootStore;\n  } //function for checking the sessionStore for data and updating the observable variables\n\n\n  //function for making a printout order api call\n  postNewPrintOutOrder(token) {\n    const url = \"/plp-core-services/rest/massoperations/printoutorder\";\n    const body = {\n      \"printoutType\": this.printOutType,\n      \"printExecDate\": this.printExecDate,\n      \"agreementID\": this.agreementID,\n      \"groupID\": this.groupID,\n      \"startDate\": this.startDate,\n      \"endDate\": this.endDate\n    };\n    const settings = {\n      method: 'POST',\n      headers: {\n        \"Content-Type\": \"application/json\",\n        'Accept': 'application/json',\n        'x-csrf-token': token,\n        'plp-user-id': getCookie(ClientStore.CLIENT_COOKIE),\n        'plp-user': \"boadmin\",\n        'plp-end-user': \"boadmin\"\n      },\n      body: JSON.stringify(body)\n    };\n    return postToApi(url, settings).then(action(res => {\n      console.log(res);\n      return res;\n    })).catch(res => {\n      this.rootStore.errorStore.showError(res.message, res.title);\n      return res;\n    });\n  } //function for making a reprint order api call\n\n\n  postNewReprintOrder(token) {\n    console.log(\"moi\");\n    console.log(this.reprint);\n    console.log(toJS(this.printOutType));\n    const url = \"/plp-core-services/rest/massoperations/reprintorder\";\n    const body = {\n      \"printoutType\": this.printOutType,\n      \"originalDate\": this.reprint.originalDate,\n      \"productType\": this.reprint.productType\n    };\n    const settings = {\n      method: 'POST',\n      headers: {\n        \"Content-Type\": \"application/json\",\n        'Accept': 'application/json',\n        'x-csrf-token': token,\n        'plp-user-id': getCookie(ClientStore.CLIENT_COOKIE),\n        'plp-user': \"boadmin\",\n        'plp-end-user': \"boadmin\"\n      },\n      body: JSON.stringify(body)\n    };\n    return postToApi(url, settings).then(action(res => {\n      console.log(res);\n      return res;\n    })).catch(res => {\n      this.rootStore.errorStore.showError(res.message, res.title);\n      console.log(res);\n      return res;\n    });\n  } //function for making a annaouncement order api call\n\n\n  postNewAnnouncementOrder(token) {\n    const url = \"/plp-core-services/rest/massoperations/announcementorder\";\n    const body = {\n      \"agreementID\": this.agreementID,\n      \"allReceivers\": this.announcement,\n      \"attribute\": this.announcement,\n      \"groupID\": this.groupID,\n      \"printExecDate\": this.announcement.printExecDate,\n      \"receiver\": [this.announcement.orders.map(variable => {\n        return variable.receiver;\n      })]\n    };\n    const settings = {\n      method: 'POST',\n      headers: {\n        \"Content-Type\": \"application/json\",\n        'Accept': 'application/json',\n        'x-csrf-token': token,\n        'plp-user-id': getCookie(ClientStore.CLIENT_COOKIE),\n        'plp-user': \"boadmin\",\n        'plp-end-user': \"boadmin\"\n      },\n      body: JSON.stringify(body)\n    };\n    return postToApi(url, settings).then(action(res => {\n      console.log(res);\n      return res;\n    })).catch(res => {\n      this.rootStore.errorStore.showError(res.message, res.title);\n      return res;\n    });\n  } //function for making a forced calculation order api call\n\n\n  postNewForcedCalculation(token) {\n    const url = \"/plp-core-services/rest/massoperations/forcecalculationorder\";\n    const body = {\n      \"EarliestPossibleCalcDateUsed\": this.forcedCalculation.EarliestPossibleCalcDateUsed,\n      \"agreementID\": this.agreementID,\n      \"groupID\": this.groupID,\n      \"reason\": this.forcedCalculation.reason,\n      \"startDate\": this.forcedCalculation.startDate\n    };\n    const settings = {\n      method: 'POST',\n      headers: {\n        \"Content-Type\": \"application/json\",\n        'Accept': 'application/json',\n        'x-csrf-token': token,\n        'plp-user-id': getCookie(ClientStore.CLIENT_COOKIE),\n        'plp-user': \"boadmin\",\n        'plp-end-user': \"boadmin\"\n      },\n      body: JSON.stringify(body)\n    };\n    return postToApi(url, settings).then(action(res => {\n      console.log(res);\n      return res;\n    })).catch(res => {\n      this.rootStore.errorStore.showError(res.message, res.title);\n      return res;\n    });\n  }\n\n}, _temp), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"status\", [observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function () {\n    return 0;\n  }\n}), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"massOperation\", [observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function () {\n    return '';\n  }\n}), _descriptor3 = _applyDecoratedDescriptor(_class.prototype, \"massOperationType\", [observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function () {\n    return '';\n  }\n}), _descriptor4 = _applyDecoratedDescriptor(_class.prototype, \"agreementID\", [observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function () {\n    return [];\n  }\n}), _descriptor5 = _applyDecoratedDescriptor(_class.prototype, \"groupID\", [observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function () {\n    return [];\n  }\n}), _descriptor6 = _applyDecoratedDescriptor(_class.prototype, \"startDate\", [observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function () {\n    return \"\";\n  }\n}), _descriptor7 = _applyDecoratedDescriptor(_class.prototype, \"endDate\", [observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function () {\n    return \"\";\n  }\n}), _descriptor8 = _applyDecoratedDescriptor(_class.prototype, \"printExecDate\", [observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function () {\n    return \"\";\n  }\n}), _descriptor9 = _applyDecoratedDescriptor(_class.prototype, \"dataTargetDate\", [observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function () {\n    return \"\";\n  }\n}), _descriptor10 = _applyDecoratedDescriptor(_class.prototype, \"announcement\", [observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function () {\n    return {};\n  }\n}), _descriptor11 = _applyDecoratedDescriptor(_class.prototype, \"reprint\", [observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function () {\n    return {};\n  }\n}), _descriptor12 = _applyDecoratedDescriptor(_class.prototype, \"printOutType\", [observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function () {\n    return {};\n  }\n}), _descriptor13 = _applyDecoratedDescriptor(_class.prototype, \"forcedCalculation\", [observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function () {\n    return {};\n  }\n}), _descriptor14 = _applyDecoratedDescriptor(_class.prototype, \"confirmation\", [observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function () {\n    return {};\n  }\n}), _descriptor15 = _applyDecoratedDescriptor(_class.prototype, \"confirmationModalIsOpen\", [observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function () {\n    return false;\n  }\n}), _descriptor16 = _applyDecoratedDescriptor(_class.prototype, \"confirmationMessage\", [observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function () {\n    return {};\n  }\n}), _descriptor17 = _applyDecoratedDescriptor(_class.prototype, \"checkSessionStore\", [action], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function () {\n    return () => {\n      if (sessionStorage.length !== 0) {\n        if (sessionStorage.massOperation) {\n          const item = sessionStorage.getItem(\"massOperation\");\n          this.massOperation = item;\n        }\n\n        if (sessionStorage.massOperationType) {\n          const item = sessionStorage.getItem(\"massOperationType\");\n          this.massOperationType = item;\n        }\n\n        if (sessionStorage.agreementID) {\n          const item = sessionStorage.getItem(\"agreementID\");\n          this.agreementID = item.split(/[,]/);\n        }\n\n        if (sessionStorage.groupID) {\n          const item = sessionStorage.getItem(\"groupID\");\n          this.groupID = item.split(/[,]/);\n        }\n\n        if (sessionStorage.status) {\n          const item = Number(sessionStorage.getItem(\"status\"));\n          this.status = item;\n        }\n\n        if (sessionStorage.defineAction) {\n          const item = sessionStorage.getItem(\"defineAction\");\n          const values = JSON.parse(item);\n          console.log(values);\n          this.startDate = values.startDate;\n          this.endDate = values.endDate;\n          this.printExecDate = values.printExecutionDate;\n        }\n\n        if (sessionStorage.announcement) {\n          const item = sessionStorage.getItem(\"announcement\");\n          console.log(JSON.parse(item));\n          this.announcement = JSON.parse(item);\n        }\n\n        if (sessionStorage.forcedCalculation) {\n          const item = sessionStorage.getItem(\"forcedCalculation\");\n          this.forcedCalculation = JSON.parse(item);\n        }\n      }\n    };\n  }\n}), _descriptor18 = _applyDecoratedDescriptor(_class.prototype, \"handleConfirmation\", [action], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function () {\n    return async res => {\n      this.confirmation = res;\n      this.confirmationModalIsOpen = false;\n      console.log(res);\n    };\n  }\n}), _descriptor19 = _applyDecoratedDescriptor(_class.prototype, \"handleConfirmationModal\", [action], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function () {\n    return async message => {\n      this.confirmation = null;\n      this.confirmationModalIsOpen = !this.confirmationModalIsOpen;\n      this.confirmationMessage = message;\n    };\n  }\n}), _descriptor20 = _applyDecoratedDescriptor(_class.prototype, \"setStatus\", [action], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function () {\n    return status => {\n      this.status = status;\n      sessionStorage.setItem(\"status\", status.toString());\n    };\n  }\n}), _descriptor21 = _applyDecoratedDescriptor(_class.prototype, \"setDefineAction\", [action], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function () {\n    return data => {\n      const values = data;\n      this.startDate = values.startDate;\n      this.endDate = values.endDate;\n      this.printExecDate = data.printExecutionDate;\n      sessionStorage.setItem(\"defineAction\", JSON.stringify(data));\n    };\n  }\n}), _descriptor22 = _applyDecoratedDescriptor(_class.prototype, \"setMassOperation\", [action], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function () {\n    return (massOperation, type) => {\n      console.log(massOperation, type);\n      this.massOperation = massOperation;\n      this.massOperationType = type.printout;\n      this.printOutType = type.type;\n\n      if (typeof Storage !== \"undefined\") {\n        sessionStorage.setItem(\"massOperation\", massOperation);\n        sessionStorage.setItem('massOperationType', type.printout);\n        sessionStorage.setItem('printOutType', type.type);\n      }\n    };\n  }\n}), _descriptor23 = _applyDecoratedDescriptor(_class.prototype, \"setTargetPolicies\", [action], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function () {\n    return (targetPolicies, variable) => {\n      console.log(targetPolicies);\n\n      if (variable === \"agreement\") {\n        this.agreementID = targetPolicies;\n\n        if (typeof Storage !== \"undefined\") {\n          sessionStorage.setItem(\"agreementID\", targetPolicies);\n        }\n      }\n\n      if (variable === \"group\") {\n        this.groupID = targetPolicies;\n\n        if (typeof Storage !== \"undefined\") {\n          sessionStorage.setItem(\"groupID\", targetPolicies);\n        }\n      }\n    };\n  }\n}), _descriptor24 = _applyDecoratedDescriptor(_class.prototype, \"cancel\", [action], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function () {\n    return evt => {\n      sessionStorage.clear();\n      this.status = 0;\n      this.massOperation = '';\n      this.massOperationType = '';\n      this.groupID = [];\n      this.agreementID = [];\n    };\n  }\n}), _descriptor25 = _applyDecoratedDescriptor(_class.prototype, \"newOrder\", [action], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function () {\n    return () => {\n      sessionStorage.removeItem(\"groupID\");\n      sessionStorage.removeItem(\"agreementID\");\n      sessionStorage.removeItem(\"announcement\");\n      this.groupID = [];\n      this.agreementID = [];\n      this.announcement = {};\n    };\n  }\n}), _descriptor26 = _applyDecoratedDescriptor(_class.prototype, \"setDefineAnnouncement\", [action], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function () {\n    return data => {\n      this.announcement = data;\n      sessionStorage.setItem(\"announcement\", JSON.stringify(data));\n    };\n  }\n}), _descriptor27 = _applyDecoratedDescriptor(_class.prototype, \"setDefineReprint\", [action], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function () {\n    return data => {\n      console.log(data);\n      this.reprint = data;\n      sessionStorage.setItem(\"reprint\", JSON.stringify(data));\n    };\n  }\n}), _descriptor28 = _applyDecoratedDescriptor(_class.prototype, \"setForcedCalculation\", [action], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function () {\n    return data => {\n      console.log(data);\n      this.forcedCalculation = data;\n      sessionStorage.setItem(\"forcedCalculation\", JSON.stringify(data));\n    };\n  }\n}), _descriptor29 = _applyDecoratedDescriptor(_class.prototype, \"newPrintOutOrder\", [action], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function () {\n    return data => {\n      return fetchTokenFromApi(\"/plp-core-services/rest/csrfToken\").then(res => {\n        const token = res;\n\n        if (this.massOperationType === \"Announcement\") {\n          return this.postNewAnnouncementOrder(token);\n        } else {\n          return this.postNewPrintOutOrder(token);\n        }\n      });\n    };\n  }\n}), _descriptor30 = _applyDecoratedDescriptor(_class.prototype, \"newReprintOrder\", [action], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function () {\n    return () => {\n      return fetchTokenFromApi(\"/plp-core-services/rest/csrfToken\").then(res => {\n        const token = res;\n        return this.postNewReprintOrder(token);\n      });\n    };\n  }\n}), _descriptor31 = _applyDecoratedDescriptor(_class.prototype, \"newForcedCalculation\", [action], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function () {\n    return () => {\n      return fetchTokenFromApi(\"/plp-core-services/rest/csrfToken\").then(res => {\n        const token = res;\n        return this.postNewForcedCalculation(token);\n      });\n    };\n  }\n}), _applyDecoratedDescriptor(_class.prototype, \"postNewPrintOutOrder\", [action], Object.getOwnPropertyDescriptor(_class.prototype, \"postNewPrintOutOrder\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"postNewReprintOrder\", [action], Object.getOwnPropertyDescriptor(_class.prototype, \"postNewReprintOrder\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"postNewAnnouncementOrder\", [action], Object.getOwnPropertyDescriptor(_class.prototype, \"postNewAnnouncementOrder\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"postNewForcedCalculation\", [action], Object.getOwnPropertyDescriptor(_class.prototype, \"postNewForcedCalculation\"), _class.prototype)), _class);\nexport { OperationStore as default };","map":{"version":3,"sources":["/home/janne/repot/OperaatioJyrki/src/stores/OperationStore.ts"],"names":["action","observable","fetchTokenFromApi","postToApi","getCookie","ClientStore","toJS","OperationStore","constructor","rootStore","postNewPrintOutOrder","token","url","body","printOutType","printExecDate","agreementID","groupID","startDate","endDate","settings","method","headers","CLIENT_COOKIE","JSON","stringify","then","res","console","log","catch","errorStore","showError","message","title","postNewReprintOrder","reprint","originalDate","productType","postNewAnnouncementOrder","announcement","orders","map","variable","receiver","postNewForcedCalculation","forcedCalculation","EarliestPossibleCalcDateUsed","reason","sessionStorage","length","massOperation","item","getItem","massOperationType","split","status","Number","defineAction","values","parse","printExecutionDate","confirmation","confirmationModalIsOpen","confirmationMessage","setItem","toString","data","type","printout","Storage","targetPolicies","evt","clear","removeItem"],"mappings":"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","sourcesContent":["import {action, observable} from 'mobx';\nimport {fetchFromApi, fetchTokenFromApi, postToApi} from './ApiServices';\nimport {getCookie} from './CookieServices';\nimport ClientStore from './ClientStore';\nimport {toJS} from \"mobx\"\n\nexport default class OperationStore {\n    @observable public status: number = 0;\n    @observable public massOperation: string = '';\n    @observable public massOperationType: string = '';\n    @observable public agreementID: string[] = [];\n    @observable public groupID: string[] = []\n    @observable public startDate: string = \"\";\n    @observable public endDate: string = \"\";\n    @observable public printExecDate: string = \"\";\n    @observable public dataTargetDate: string = \"\";\n    @observable public announcement: any = {};\n    @observable public reprint: any = {};\n    @observable public printOutType: any = {};\n    @observable public forcedCalculation: any = {};\n    @observable public confirmation: any ={};\n    @observable public confirmationModalIsOpen: any =false;\n    @observable public confirmationMessage: any ={};\n\n    private rootStore: any;\n\n    constructor(rootStore: any) {\n        this.rootStore = rootStore;\n    }\n\n    //function for checking the sessionStore for data and updating the observable variables\n    @action\n    public checkSessionStore = () => {\n        if (sessionStorage.length !== 0) {\n            if (sessionStorage.massOperation) {\n                const item: any = sessionStorage.getItem(\"massOperation\")\n                this.massOperation = item\n            }\n            if (sessionStorage.massOperationType) {\n                const item: any = sessionStorage.getItem(\"massOperationType\")\n                this.massOperationType = item;\n            }\n            if (sessionStorage.agreementID) {\n                const item: any = sessionStorage.getItem(\"agreementID\");\n                this.agreementID = item.split(/[,]/);\n            }\n            if (sessionStorage.groupID) {\n                const item: any = sessionStorage.getItem(\"groupID\");\n                this.groupID = item.split(/[,]/);\n            }\n            if (sessionStorage.status) {\n                const item: any = Number(sessionStorage.getItem(\"status\"))\n                this.status = item;\n            }\n            if (sessionStorage.defineAction) {\n                const item: any = sessionStorage.getItem(\"defineAction\")\n                const values = JSON.parse(item)\n                console.log(values)\n                this.startDate = values.startDate;\n                this.endDate = values.endDate;\n                this.printExecDate = values.printExecutionDate;\n            }\n            if (sessionStorage.announcement) {\n                const item: any = sessionStorage.getItem(\"announcement\")\n                console.log(JSON.parse(item))\n                this.announcement = JSON.parse(item);\n            }\n            if (sessionStorage.forcedCalculation) {\n                const item: any = sessionStorage.getItem(\"forcedCalculation\")\n                this.forcedCalculation = JSON.parse(item)\n            }\n\n        }\n    }\n    //function for handling confirmation modals confirmation\n    @action\n    public handleConfirmation = async (res: any) => {\n        this.confirmation = res;\n        this.confirmationModalIsOpen = false;\n        console.log(res)\n    }\n    //function for opening conformation modal\n    @action\n    public handleConfirmationModal = async (message: any) => {\n        this.confirmation = null\n        this.confirmationModalIsOpen = !this.confirmationModalIsOpen\n        this.confirmationMessage = message;\n    }\n    //function for changing the progressbars status\n    @action\n    public setStatus = (status: any) => {\n        this.status = status\n        sessionStorage.setItem(\"status\", status.toString())\n    }\n    //function for updating the define action data in session storage and operationstore\n    @action public setDefineAction = (data: any) => {\n        const values = data;\n        this.startDate = values.startDate;\n        this.endDate = values.endDate;\n        this.printExecDate = data.printExecutionDate;\n        sessionStorage.setItem(\"defineAction\", JSON.stringify(data))\n    }\n    //function for updating the massoperation data in session storage and operationstore\n    @action public setMassOperation = (massOperation: any, type: any) => {\n        console.log(massOperation, type)\n        this.massOperation = massOperation\n        this.massOperationType = type.printout\n        this.printOutType = type.type\n        if (typeof (Storage) !== \"undefined\") {\n            sessionStorage.setItem(\"massOperation\", massOperation);\n            sessionStorage.setItem('massOperationType', type.printout);\n            sessionStorage.setItem('printOutType', type.type);\n        }\n\n    }\n    //function for updating the target policies data in session storage and operationstore\n    @action public setTargetPolicies = (targetPolicies: any, variable: string) => {\n        console.log(targetPolicies)\n        if (variable === \"agreement\") {\n            this.agreementID = targetPolicies;\n            if (typeof (Storage) !== \"undefined\") {\n                sessionStorage.setItem(\"agreementID\", targetPolicies);\n            }\n        }\n        if (variable === \"group\") {\n            this.groupID = targetPolicies;\n            if (typeof (Storage) !== \"undefined\") {\n                sessionStorage.setItem(\"groupID\", targetPolicies);\n            }\n        }\n\n    }\n    //function for clearing operationstore and sessionstorage\n    @action public cancel = (evt: any) => {\n        sessionStorage.clear();\n        this.status = 0;\n        this.massOperation = '';\n        this.massOperationType = '';\n        this.groupID = [];\n        this.agreementID = [];\n    }\n    //function for clearing all the data from operationstore and sessionstorage except for massOperation and massOperationType\n    @action public newOrder = () => {\n        sessionStorage.removeItem(\"groupID\");\n        sessionStorage.removeItem(\"agreementID\");\n        sessionStorage.removeItem(\"announcement\");\n        this.groupID = [];\n        this.agreementID = [];\n        this.announcement = {}\n\n    }\n    //function for updating printout announcement data in sessionstorage and operationstore\n    @action public setDefineAnnouncement = (data: any) => {\n        this.announcement = data;\n        sessionStorage.setItem(\"announcement\", JSON.stringify(data));\n    }\n    //function for updating reprint data in sessionstorage and operationstore\n    @action public setDefineReprint = (data: any) => {\n        console.log(data)\n        this.reprint = data;\n        sessionStorage.setItem(\"reprint\", JSON.stringify(data))\n    }\n    //function for updating forced calculation data in sessionstorage and operationstore\n    @action public setForcedCalculation = (data: any) => {\n        console.log(data)\n        this.forcedCalculation = data;\n        sessionStorage.setItem(\"forcedCalculation\", JSON.stringify(data))\n    }\n//function for getting the csrf token and calling the postNewPrintOutOrder function\n    @action newPrintOutOrder = (data: any) => {\n        return fetchTokenFromApi(\"/plp-core-services/rest/csrfToken\").then(res => {\n            const token = res\n            if (this.massOperationType === \"Announcement\") {\n                return this.postNewAnnouncementOrder(token)\n            } else {\n                return this.postNewPrintOutOrder(token)\n            }\n        })\n    }\n////function for getting the csrf token and calling the postNewReprintOrder function\n    @action newReprintOrder = () => {\n        return fetchTokenFromApi(\"/plp-core-services/rest/csrfToken\").then(res => {\n            const token = res\n            return this.postNewReprintOrder(token)\n        })\n    }\n//function for getting the csrf token and calling the postNewForcedCalculationOrder function\n    @action newForcedCalculation = () => {\n        return fetchTokenFromApi(\"/plp-core-services/rest/csrfToken\").then(res => {\n            const token = res;\n            return this.postNewForcedCalculation(token)\n        })\n    }\n//function for making a printout order api call\n    @action\n    private postNewPrintOutOrder(token: any) {\n        const url = \"/plp-core-services/rest/massoperations/printoutorder\"\n        const body = {\n            \"printoutType\": this.printOutType,\n            \"printExecDate\": this.printExecDate,\n            \"agreementID\": this.agreementID,\n            \"groupID\": this.groupID,\n            \"startDate\": this.startDate,\n            \"endDate\": this.endDate,\n\n        }\n        const settings = {\n            method: 'POST',\n            headers: {\n                \"Content-Type\": \"application/json\",\n                'Accept': 'application/json',\n                'x-csrf-token': token,\n                'plp-user-id': getCookie(ClientStore.CLIENT_COOKIE),\n                'plp-user': \"boadmin\",\n                'plp-end-user': \"boadmin\",\n\n            },\n            body: JSON.stringify(body),\n        };\n        return postToApi(url, settings).then(action((res: any) => {\n            console.log(res)\n            return res\n        })).catch(res => {\n            this.rootStore.errorStore.showError(res.message, res.title)\n            return res\n        })\n    }\n//function for making a reprint order api call\n    @action\n    private postNewReprintOrder(token: any) {\n        console.log(\"moi\")\n        console.log(this.reprint)\n        console.log(toJS(this.printOutType))\n        const url = \"/plp-core-services/rest/massoperations/reprintorder\"\n        const body = {\n            \"printoutType\": this.printOutType,\n            \"originalDate\": this.reprint.originalDate,\n            \"productType\": this.reprint.productType,\n\n        }\n\n        const settings = {\n            method: 'POST',\n            headers: {\n                \"Content-Type\": \"application/json\",\n                'Accept': 'application/json',\n                'x-csrf-token': token,\n                'plp-user-id': getCookie(ClientStore.CLIENT_COOKIE),\n                'plp-user': \"boadmin\",\n                'plp-end-user': \"boadmin\",\n\n            },\n            body: JSON.stringify(body),\n        };\n        return postToApi(url, settings).then(action((res: any) => {\n            console.log(res)\n            return res\n        })).catch(res => {\n            this.rootStore.errorStore.showError(res.message, res.title)\n            console.log(res)\n            return res\n        })\n    }\n//function for making a annaouncement order api call\n    @action\n    private postNewAnnouncementOrder(token: any) {\n        const url = \"/plp-core-services/rest/massoperations/announcementorder\"\n        const body = {\n            \"agreementID\": this.agreementID,\n            \"allReceivers\": this.announcement,\n            \"attribute\": this.announcement,\n            \"groupID\": this.groupID,\n            \"printExecDate\": this.announcement.printExecDate,\n            \"receiver\": [\n                this.announcement.orders.map((variable: any) => {\n                        return variable.receiver\n                    }\n                )\n            ],\n        }\n        const settings = {\n            method: 'POST',\n            headers: {\n                \"Content-Type\": \"application/json\",\n                'Accept': 'application/json',\n                'x-csrf-token': token,\n                'plp-user-id': getCookie(ClientStore.CLIENT_COOKIE),\n                'plp-user': \"boadmin\",\n                'plp-end-user': \"boadmin\",\n\n            },\n            body: JSON.stringify(body),\n        };\n        return postToApi(url, settings).then(action((res: any) => {\n            console.log(res)\n            return res\n        })).catch(res => {\n            this.rootStore.errorStore.showError(res.message, res.title)\n            return res\n        })\n\n    }\n//function for making a forced calculation order api call\n    @action\n    private postNewForcedCalculation(token: any) {\n        const url = \"/plp-core-services/rest/massoperations/forcecalculationorder\"\n        const body = {\n            \"EarliestPossibleCalcDateUsed\": this.forcedCalculation.EarliestPossibleCalcDateUsed,\n            \"agreementID\": this.agreementID,\n            \"groupID\": this.groupID,\n            \"reason\": this.forcedCalculation.reason,\n            \"startDate\": this.forcedCalculation.startDate\n        }\n        const settings = {\n            method: 'POST',\n            headers: {\n                \"Content-Type\": \"application/json\",\n                'Accept': 'application/json',\n                'x-csrf-token': token,\n                'plp-user-id': getCookie(ClientStore.CLIENT_COOKIE),\n                'plp-user': \"boadmin\",\n                'plp-end-user': \"boadmin\",\n\n            },\n            body: JSON.stringify(body),\n        };\n        return postToApi(url, settings).then(action((res: any) => {\n            console.log(res)\n            return res\n        })).catch(res => {\n            this.rootStore.errorStore.showError(res.message, res.title)\n            return res\n        })\n\n    }\n\n}"]},"metadata":{},"sourceType":"module"}