{"ast":null,"code":"\"use strict\";\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar react_1 = require(\"react\");\n\nvar invariant_1 = __importDefault(require(\"invariant\"));\n\nfunction setRef(ref, node) {\n  if (typeof ref === 'function') {\n    ref(node);\n  } else {\n    ref.current = node;\n  }\n}\n\nfunction cloneWithRef(element, newRef) {\n  var previousRef = element.ref;\n  invariant_1.default(typeof previousRef !== 'string', 'Cannot connect React DnD to an element with an existing string ref. ' + 'Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. ' + 'Read more: https://facebook.github.io/react/docs/more-about-refs.html#the-ref-callback-attribute');\n\n  if (!previousRef) {\n    // When there is no ref on the element, use the new ref directly\n    return react_1.cloneElement(element, {\n      ref: newRef\n    });\n  } else {\n    return react_1.cloneElement(element, {\n      ref: function (node) {\n        setRef(previousRef, node);\n        setRef(newRef, node);\n      }\n    });\n  }\n}\n\nexports.cloneWithRef = cloneWithRef;","map":{"version":3,"sources":["/home/janne/repot/OperaatioJyrki/node_modules/react-dnd-cjs/lib/utils/cloneWithRef.js"],"names":["__importDefault","mod","__esModule","Object","defineProperty","exports","value","react_1","require","invariant_1","setRef","ref","node","current","cloneWithRef","element","newRef","previousRef","default","cloneElement"],"mappings":"AAAA;;AACA,IAAIA,eAAe,GAAI,QAAQ,KAAKA,eAAd,IAAkC,UAAUC,GAAV,EAAe;AACnE,SAAQA,GAAG,IAAIA,GAAG,CAACC,UAAZ,GAA0BD,GAA1B,GAAgC;AAAE,eAAWA;AAAb,GAAvC;AACH,CAFD;;AAGAE,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAAEC,EAAAA,KAAK,EAAE;AAAT,CAA7C;;AACA,IAAIC,OAAO,GAAGC,OAAO,CAAC,OAAD,CAArB;;AACA,IAAIC,WAAW,GAAGT,eAAe,CAACQ,OAAO,CAAC,WAAD,CAAR,CAAjC;;AACA,SAASE,MAAT,CAAgBC,GAAhB,EAAqBC,IAArB,EAA2B;AACvB,MAAI,OAAOD,GAAP,KAAe,UAAnB,EAA+B;AAC3BA,IAAAA,GAAG,CAACC,IAAD,CAAH;AACH,GAFD,MAGK;AACDD,IAAAA,GAAG,CAACE,OAAJ,GAAcD,IAAd;AACH;AACJ;;AACD,SAASE,YAAT,CAAsBC,OAAtB,EAA+BC,MAA/B,EAAuC;AACnC,MAAIC,WAAW,GAAGF,OAAO,CAACJ,GAA1B;AACAF,EAAAA,WAAW,CAACS,OAAZ,CAAoB,OAAOD,WAAP,KAAuB,QAA3C,EAAqD,yEACjD,sFADiD,GAEjD,kGAFJ;;AAGA,MAAI,CAACA,WAAL,EAAkB;AACd;AACA,WAAOV,OAAO,CAACY,YAAR,CAAqBJ,OAArB,EAA8B;AACjCJ,MAAAA,GAAG,EAAEK;AAD4B,KAA9B,CAAP;AAGH,GALD,MAMK;AACD,WAAOT,OAAO,CAACY,YAAR,CAAqBJ,OAArB,EAA8B;AACjCJ,MAAAA,GAAG,EAAE,UAAUC,IAAV,EAAgB;AACjBF,QAAAA,MAAM,CAACO,WAAD,EAAcL,IAAd,CAAN;AACAF,QAAAA,MAAM,CAACM,MAAD,EAASJ,IAAT,CAAN;AACH;AAJgC,KAA9B,CAAP;AAMH;AACJ;;AACDP,OAAO,CAACS,YAAR,GAAuBA,YAAvB","sourcesContent":["\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar react_1 = require(\"react\");\nvar invariant_1 = __importDefault(require(\"invariant\"));\nfunction setRef(ref, node) {\n    if (typeof ref === 'function') {\n        ref(node);\n    }\n    else {\n        ref.current = node;\n    }\n}\nfunction cloneWithRef(element, newRef) {\n    var previousRef = element.ref;\n    invariant_1.default(typeof previousRef !== 'string', 'Cannot connect React DnD to an element with an existing string ref. ' +\n        'Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. ' +\n        'Read more: https://facebook.github.io/react/docs/more-about-refs.html#the-ref-callback-attribute');\n    if (!previousRef) {\n        // When there is no ref on the element, use the new ref directly\n        return react_1.cloneElement(element, {\n            ref: newRef,\n        });\n    }\n    else {\n        return react_1.cloneElement(element, {\n            ref: function (node) {\n                setRef(previousRef, node);\n                setRef(newRef, node);\n            },\n        });\n    }\n}\nexports.cloneWithRef = cloneWithRef;\n"]},"metadata":{},"sourceType":"script"}