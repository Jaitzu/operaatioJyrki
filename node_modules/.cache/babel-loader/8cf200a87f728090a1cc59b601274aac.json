{"ast":null,"code":"\"use strict\";\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar shallowequal_1 = __importDefault(require(\"shallowequal\"));\n\nvar react_1 = require(\"react\");\n\nvar useIsomorphicLayoutEffect_1 = require(\"./useIsomorphicLayoutEffect\");\n/**\n *\n * @param monitor The monitor to collect state from\n * @param collect The collecting function\n * @param onUpdate A method to invoke when updates occur\n */\n\n\nfunction useCollector(monitor, collect, onUpdate) {\n  var _a = react_1.useState(function () {\n    return collect(monitor);\n  }),\n      collected = _a[0],\n      setCollected = _a[1];\n\n  var updateCollected = react_1.useCallback(function () {\n    var nextValue = collect(monitor);\n\n    if (!shallowequal_1.default(collected, nextValue)) {\n      setCollected(nextValue);\n\n      if (onUpdate) {\n        onUpdate();\n      }\n    }\n  }, [collected, monitor, onUpdate]); // update the collected properties after the first render\n  // and the components are attached to dnd-core\n\n  useIsomorphicLayoutEffect_1.useIsomorphicLayoutEffect(updateCollected, []);\n  return [collected, updateCollected];\n}\n\nexports.useCollector = useCollector;","map":{"version":3,"sources":["/home/janne/repot/OperaatioJyrki/node_modules/react-dnd-cjs/lib/hooks/internal/useCollector.js"],"names":["__importDefault","mod","__esModule","Object","defineProperty","exports","value","shallowequal_1","require","react_1","useIsomorphicLayoutEffect_1","useCollector","monitor","collect","onUpdate","_a","useState","collected","setCollected","updateCollected","useCallback","nextValue","default","useIsomorphicLayoutEffect"],"mappings":"AAAA;;AACA,IAAIA,eAAe,GAAI,QAAQ,KAAKA,eAAd,IAAkC,UAAUC,GAAV,EAAe;AACnE,SAAQA,GAAG,IAAIA,GAAG,CAACC,UAAZ,GAA0BD,GAA1B,GAAgC;AAAE,eAAWA;AAAb,GAAvC;AACH,CAFD;;AAGAE,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAAEC,EAAAA,KAAK,EAAE;AAAT,CAA7C;;AACA,IAAIC,cAAc,GAAGP,eAAe,CAACQ,OAAO,CAAC,cAAD,CAAR,CAApC;;AACA,IAAIC,OAAO,GAAGD,OAAO,CAAC,OAAD,CAArB;;AACA,IAAIE,2BAA2B,GAAGF,OAAO,CAAC,6BAAD,CAAzC;AACA;;;;;;;;AAMA,SAASG,YAAT,CAAsBC,OAAtB,EAA+BC,OAA/B,EAAwCC,QAAxC,EAAkD;AAC9C,MAAIC,EAAE,GAAGN,OAAO,CAACO,QAAR,CAAiB,YAAY;AAAE,WAAOH,OAAO,CAACD,OAAD,CAAd;AAA0B,GAAzD,CAAT;AAAA,MAAqEK,SAAS,GAAGF,EAAE,CAAC,CAAD,CAAnF;AAAA,MAAwFG,YAAY,GAAGH,EAAE,CAAC,CAAD,CAAzG;;AACA,MAAII,eAAe,GAAGV,OAAO,CAACW,WAAR,CAAoB,YAAY;AAClD,QAAIC,SAAS,GAAGR,OAAO,CAACD,OAAD,CAAvB;;AACA,QAAI,CAACL,cAAc,CAACe,OAAf,CAAuBL,SAAvB,EAAkCI,SAAlC,CAAL,EAAmD;AAC/CH,MAAAA,YAAY,CAACG,SAAD,CAAZ;;AACA,UAAIP,QAAJ,EAAc;AACVA,QAAAA,QAAQ;AACX;AACJ;AACJ,GARqB,EAQnB,CAACG,SAAD,EAAYL,OAAZ,EAAqBE,QAArB,CARmB,CAAtB,CAF8C,CAW9C;AACA;;AACAJ,EAAAA,2BAA2B,CAACa,yBAA5B,CAAsDJ,eAAtD,EAAuE,EAAvE;AACA,SAAO,CAACF,SAAD,EAAYE,eAAZ,CAAP;AACH;;AACDd,OAAO,CAACM,YAAR,GAAuBA,YAAvB","sourcesContent":["\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar shallowequal_1 = __importDefault(require(\"shallowequal\"));\nvar react_1 = require(\"react\");\nvar useIsomorphicLayoutEffect_1 = require(\"./useIsomorphicLayoutEffect\");\n/**\n *\n * @param monitor The monitor to collect state from\n * @param collect The collecting function\n * @param onUpdate A method to invoke when updates occur\n */\nfunction useCollector(monitor, collect, onUpdate) {\n    var _a = react_1.useState(function () { return collect(monitor); }), collected = _a[0], setCollected = _a[1];\n    var updateCollected = react_1.useCallback(function () {\n        var nextValue = collect(monitor);\n        if (!shallowequal_1.default(collected, nextValue)) {\n            setCollected(nextValue);\n            if (onUpdate) {\n                onUpdate();\n            }\n        }\n    }, [collected, monitor, onUpdate]);\n    // update the collected properties after the first render\n    // and the components are attached to dnd-core\n    useIsomorphicLayoutEffect_1.useIsomorphicLayoutEffect(updateCollected, []);\n    return [collected, updateCollected];\n}\nexports.useCollector = useCollector;\n"]},"metadata":{},"sourceType":"script"}